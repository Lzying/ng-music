<!-- 新碟上架 -->
<div class="erro" *ngIf="thisAlbums?.code==400">
    <p>请求错误</p>
</div>

<div class="thisAlbum clearfix" *ngIf="thisAlbums?.code==200">
    <div class="album">
        <div class="album-title ">
            <div class="album-title-title clearfix">
                <div class="album-title-img">
                    <img height="177" width="177" src="{{album.picUrl}}" alt="">
                    <a href=""></a>
                </div>
                <div class="album-title-name">
                    <div>
                        <p></p>
                        <p> {{album.name}}</p>

                    </div>
                    <p>
                        <span>歌手：</span>
                        <span [style.color]="'rgb(8, 173, 250)'">{{album.artist.name}}</span>
                    </p>
                    <p>
                        <span>发行时间：</span>
                        <span>{{album.publishTime}}</span>
                    </p>
                    <p>
                        <span>发行公司:</span>
                        <span>{{album.company}}</span>
                    </p>
                </div>
            </div>
            <div class="album-title-p clearfix">
                <h2>
                    <b>专辑介绍</b>
                </h2>
                <div [class.openClose]="open">
                    <p *ngFor="let albumText of albumTexts">{{albumText}}</p>
                </div>
                <!-- 展开或者收起，少于6行时不显示，具体看ts中的openClose -->
                <a *ngIf="openClose" (click)="open=!open">
                    <span *ngIf="!open">展开</span>
                    <i *ngIf="!open" class="fa fa-chevron-down"></i>
                    <span *ngIf="open">收起</span>
                    <i *ngIf="open" class="fa fa-chevron-up"></i>
                </a>
            </div>
        </div>

        <div class="album-songs">
            <div class="album-songs-list">
                <div class="album-songs-list-title">
                    <p>
                        <span>包含歌曲列表</span>
                        <span>首歌</span>
                    </p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <td width="80">序号</td>
                            <td width="410">标题</td>
                            <td width="90">时长</td>
                            <td width="90">歌手</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let song of songs ; let indexs=index">
                            <td>{{indexs+1}}</td>
                            <td><a href="" routerLink="/music/discover/song"  [queryParams]="{id:song.id}">{{song.name}}</a></td>
                            <td>05.03</td>
                            <td>{{song.ar[0].name}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <!-- 评论，此部分分为标题，精彩评论，最新评论 -->
        <div class="commend">
                <div class="commend-title">
                    <p>
                        <span class="commend-title-text1">评论</span>
                        <span class="commend-title-text2">共{{albumCommends?.total}}条评论</span>
                    </p>
                </div>
                <!-- 评论输入框 -->
                <div class="my-commend clearfix">
                    <img height="50" width="50" src="http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50" alt="">
                    <div>
                        <textarea placeholder="评论"></textarea>
                        <div>
                            <p>
                                <a href="">
                                    <i class="fa fa-smile-o"></i>
                                </a>
                                <a href="">
                                    <i>@</i>
                                </a>
                            </p>
                            <p><span>140</span><a href="">评论</a></p>
                        </div>
                    </div>
                </div>
                <div class="commend-content">
                    <!-- 精彩评论可能存在可能不存在，所以用个判断，其class样式个最新评论一致，结构也一致，修改时要注意对应修改 -->
                    <!-- 先判断是否存在，存在判断是否大于0 -->
                    <div class="commend-list" *ngIf="(albumCommends?.hotComments) ? (albumCommends?.hotComments.length > 0) : flase">
                        <p class="commend-list-title">
                            <b>精彩评论</b>
                        </p>
                        <ul class="commend-list-ul">
                            <li class="clearfix" *ngFor="let hotComment of albumCommends?.hotComments">
                                <img height="50" width="50" src="{{hotComment.user.avatarUrl}}" alt="">
                                <div class="commend-list-text">
                                    <p class="commend-list-text-p">
                                        <a href="">{{hotComment.user.nickname}}</a>
                                        <span>:{{hotComment.content}}</span>
                                    </p>
                                    <p class="commend-list-text-p" *ngIf="hotComment?.beReplied[0]?.content">
                                        <a href="">{{hotComment?.beReplied[0]?.user.nickname}}</a>
                                        <span>:{{hotComment?.beReplied[0]?.content}}</span>
                                    </p>
                                    <div>
                                        <p>
                                            <a href="">
                                                <i class="fa fa-thumbs-o-up"></i>
                                                <span *ngIf="hotComment?.likedCount">({{hotComment?.likedCount}})</span>
                                            </a>
                                            <a href="">回复</a>
                                        </p>
                                        <span>{{hotComment?.time}}</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- 最新评论部分，其class样式何精彩评论一致，结构也一致，修改时要注意对应修改  -->
                    <div class="commend-list">
                        <p class="commend-list-title">
                            <b>最新评论</b>
                        </p>
                        <ul class="commend-list-ul">
                            <li class="clearfix" *ngFor="let comment of albumCommends?.comments">
                                <img height="50" width="50" src="{{comment?.user.avatarUrl}}" alt="">
                                <div class="commend-list-text">
                                    <p class="commend-list-text-p">
                                        <a href="">{{comment?.user.nickname}}</a>
                                        <span>:{{comment?.content}}</span>
                                    </p>
                                    <p class="commend-list-text-p" *ngIf="comment?.beReplied[0]?.content">
                                        <a href="">{{comment?.beReplied[0].user.nickname}}</a>
                                        <span>:{{comment?.beReplied[0].content}}</span>
                                    </p>
                                    <div>
                                        <p>
                                            <a href="">
                                                <i class="fa fa-thumbs-o-up"></i>
                                                <span *ngIf="comment?.likedCount">({{comment?.likedCount}})</span>
                                            </a>
                                            <a href="">回复</a>
                                        </p>
                                        <span>{{comment?.time}}</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- 分页导航，采用ngx插件 -->
                <div class="commend-nav">
                    <div class="row">
                        <div class="col-xs-12 col-12">
                            <pagination [totalItems]="totalItems" [itemsPerPage]="itemsPerPage" [maxSize]="maxSize" [boundaryLinks]="true" [(ngModel)]="currentPage"
                                (pageChanged)="pageChanged($event)" class="pagination-sm" previousText="上页" nextText="下页" firstText="首页"
                                lastText="尾页"></pagination>
                        </div>
                    </div>
                    <p>共{{pages}}页</p>
                </div>
    
            </div>
    </div>
    <div class="otherAlbum">
        <p>jjdjdjjd</p>
    </div>
</div>
